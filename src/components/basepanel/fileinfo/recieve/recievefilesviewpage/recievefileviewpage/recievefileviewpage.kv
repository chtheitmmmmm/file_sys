#: import RecieveFileViewPage  components.RecieveFileViewPage
#: import RecieveFileViewPageLayout  components.RecieveFileViewPageLayout
#: import FileViewButton  components.FileViewButton
#: include  components/basepanel/fileinfo/recieve/recievefilesviewpage/recievefileviewpage/recievefileviewback/recievefileviewback.kv

<RecieveFileViewPage>:
    RecieveFileViewPageLayout:
        file: root.file

<RecieveFileViewPageLayout>:
    RecieveFileViewBack:
        file: root.file
    RelativeLayout:
        id: layout
        size_hint_y: 360 / (1200 - 180)
        Label:
            pos_hint: {"y": delete_btn.top / layout.size[1]}
            size_hint: 1, 1 / 3
            color: "black"
            text: f"From {root.file.master.name if root.file else '未知作者'}"
            font_size: 40
            size_y: 100
        FileViewButton:
            id: delete_btn
            text: "删除"
            plain_color: 0.5, 0.5, 0.5, 1
            press_color: 0, 0, 0, 1
            on_release: root.dispatch("on_delete", root.file)